{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Vivaan\\\\Downloads\\\\Hostel-Management-master\\\\Hostel-Management-master\\\\frontend\\\\src\\\\screens\\\\addStudentView.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport FormContainer from \"../components/formContainer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addStudent, updateStudent } from \"../actions/studentActions\";\nimport Loading from \"../components/loader.jsx\";\nimport Message from \"../components/message.jsx\";\nimport { STUDENT_UPDATE_RESET } from \"../constants/studentConstant\";\nimport Loader from \"../components/loader\";\n\nconst AddStudentView = () => {\n  _s();\n\n  const history = useHistory();\n  const [isEdit, setIsEdit] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [fatherContact, setFatherContact] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [roomNo, setRoomNo] = useState(\"\");\n  const [blockNo, setBlockNo] = useState(\"\");\n  const [status, setStatus] = useState(\"Hostel\");\n  const dispatch = useDispatch();\n  const studentAdd = useSelector(state => state.studentAdd);\n  const {\n    loading,\n    error,\n    success\n  } = studentAdd;\n  const studentUpdate = useSelector(state => state.studentUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate\n  } = studentUpdate;\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({\n        type: STUDENT_UPDATE_RESET\n      });\n      history.push(\"/\");\n    }\n\n    if (history.location.state && history.location.state.studentProps) {\n      setIsEdit(true);\n      const student = history.location.state.studentProps;\n      setName(student.name);\n      setAddress(student.address);\n      setCategory(student.category);\n      setCity(student.city);\n      setContact(student.contact);\n      setFatherContact(student.fatherContact);\n      setImage(student.image);\n      setRoomNo(student.roomNo);\n      setBlockNo(student.blockNo);\n      setStatus(student.status);\n    }\n\n    if (success) {\n      history.push(\"/\");\n    }\n  }, [dispatch, history, success, successUpdate]);\n\n  const submitHandler = () => {\n    if (isEdit === true) {\n      const _id = history.location.state.studentProps._id;\n      dispatch(updateStudent({\n        _id,\n        name,\n        address,\n        category,\n        city,\n        contact,\n        fatherContact,\n        image,\n        roomNo,\n        blockNo,\n        status\n      }));\n    } else {\n      dispatch(addStudent({\n        name,\n        address,\n        category,\n        city,\n        contact,\n        fatherContact,\n        image,\n        roomNo,\n        blockNo,\n        status\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"btn btn-light my-3\",\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), loading || loadingUpdate ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [errorUpdate && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: errorUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: isEdit ? \"Edit Student\" : \"Add Student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: submitHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"name\",\n            placeholder: \"Enter name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"status\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            value: status,\n            onChange: e => setStatus(e.target.value),\n            children: [\"Hostel\", \"Outside\", \"Home\"].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: x + 1,\n              children: x\n            }, x + 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"address\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter address\",\n            value: address,\n            onChange: e => setAddress(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"city\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter city\",\n            value: city,\n            onChange: e => setCity(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"contact\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            placeholder: \"Enter phone number\",\n            value: contact,\n            onChange: e => setContact(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"fatherContact\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Father Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            placeholder: \"Enter Father Phone Number\",\n            value: fatherContact,\n            onChange: e => setFatherContact(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"roomNo\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Room No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Room no\",\n            value: roomNo,\n            onChange: e => setRoomNo(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"b\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Block Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Block Number\",\n            value: blockNo,\n            onChange: e => setBlockNo(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"image\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Image Url\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Image Url\",\n            value: image,\n            onChange: e => setImage(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"category\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Stream\",\n            value: category,\n            onChange: e => setCategory(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"primary\",\n          onClick: submitHandler,\n          children: isEdit ? \"Update\" : \"Add Student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(AddStudentView, \"IINILXnDUqKTi7PYqA07/GjK9kw=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector];\n});\n\n_c = AddStudentView;\nexport default AddStudentView;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddStudentView\");","map":{"version":3,"sources":["C:/Users/Vivaan/Downloads/Hostel-Management-master/Hostel-Management-master/frontend/src/screens/addStudentView.jsx"],"names":["React","useState","useEffect","Button","Form","Link","useHistory","FormContainer","useDispatch","useSelector","addStudent","updateStudent","Loading","Message","STUDENT_UPDATE_RESET","Loader","AddStudentView","history","isEdit","setIsEdit","name","setName","address","setAddress","category","setCategory","city","setCity","contact","setContact","fatherContact","setFatherContact","image","setImage","roomNo","setRoomNo","blockNo","setBlockNo","status","setStatus","dispatch","studentAdd","state","loading","error","success","studentUpdate","loadingUpdate","errorUpdate","successUpdate","type","push","location","studentProps","student","submitHandler","_id","e","target","value","map","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport FormContainer from \"../components/formContainer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addStudent, updateStudent } from \"../actions/studentActions\";\nimport Loading from \"../components/loader.jsx\";\nimport Message from \"../components/message.jsx\";\nimport { STUDENT_UPDATE_RESET } from \"../constants/studentConstant\";\nimport Loader from \"../components/loader\";\n\nconst AddStudentView = () => {\n  const history = useHistory();\n  const [isEdit, setIsEdit] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [fatherContact, setFatherContact] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [roomNo, setRoomNo] = useState(\"\");\n  const [blockNo, setBlockNo] = useState(\"\");\n  const [status, setStatus] = useState(\"Hostel\");\n\n  const dispatch = useDispatch();\n  const studentAdd = useSelector((state) => state.studentAdd);\n  const { loading, error, success } = studentAdd;\n  const studentUpdate = useSelector((state) => state.studentUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = studentUpdate;\n\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({ type: STUDENT_UPDATE_RESET });\n      history.push(\"/\");\n    }\n    if (history.location.state && history.location.state.studentProps) {\n      setIsEdit(true);\n      const student = history.location.state.studentProps;\n      setName(student.name);\n      setAddress(student.address);\n      setCategory(student.category);\n      setCity(student.city);\n      setContact(student.contact);\n      setFatherContact(student.fatherContact);\n      setImage(student.image);\n      setRoomNo(student.roomNo);\n      setBlockNo(student.blockNo);\n      setStatus(student.status);\n    }\n    if (success) {\n      history.push(\"/\");\n    }\n  }, [dispatch, history, success, successUpdate]);\n\n  const submitHandler = () => {\n    if (isEdit === true) {\n      const _id = history.location.state.studentProps._id;\n      dispatch(\n        updateStudent({\n          _id,\n          name,\n          address,\n          category,\n          city,\n          contact,\n          fatherContact,\n          image,\n          roomNo,\n          blockNo,\n          status,\n        })\n      );\n    } else {\n      dispatch(\n        addStudent({\n          name,\n          address,\n          category,\n          city,\n          contact,\n          fatherContact,\n          image,\n          roomNo,\n          blockNo,\n          status,\n        })\n      );\n    }\n  };\n\n  return (\n    <>\n      <Link to=\"/\" className=\"btn btn-light my-3\">\n        Go Back\n      </Link>\n\n      {loading || loadingUpdate ? (\n        <Loader />\n      ) : (\n        <>\n          {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\n          <FormContainer>\n            <h1>{isEdit ? \"Edit Student\" : \"Add Student\"}</h1>\n            {loading && <Loading />}\n            {error && <Message variant=\"danger\">{error}</Message>}\n            <Form onSubmit={submitHandler}></Form>\n            <Form.Group controlId=\"name\">\n              <Form.Label>Name</Form.Label>\n              <Form.Control\n                type=\"name\"\n                placeholder=\"Enter name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"status\">\n              <Form.Label>Status</Form.Label>\n              <Form.Control\n                as=\"select\"\n                value={status}\n                onChange={(e) => setStatus(e.target.value)}\n              >\n                {[\"Hostel\", \"Outside\", \"Home\"].map((x) => (\n                  <option key={x + 1} value={x + 1}>\n                    {x}\n                  </option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"address\">\n              <Form.Label>Address</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter address\"\n                value={address}\n                onChange={(e) => setAddress(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"city\">\n              <Form.Label>City</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter city\"\n                value={city}\n                onChange={(e) => setCity(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"contact\">\n              <Form.Label>Contact</Form.Label>\n              <Form.Control\n                type=\"number\"\n                placeholder=\"Enter phone number\"\n                value={contact}\n                onChange={(e) => setContact(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"fatherContact\">\n              <Form.Label>Father Contact</Form.Label>\n              <Form.Control\n                type=\"number\"\n                placeholder=\"Enter Father Phone Number\"\n                value={fatherContact}\n                onChange={(e) => setFatherContact(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"roomNo\">\n              <Form.Label>Room No</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Room no\"\n                value={roomNo}\n                onChange={(e) => setRoomNo(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"b\">\n              <Form.Label>Block Number</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Block Number\"\n                value={blockNo}\n                onChange={(e) => setBlockNo(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"image\">\n              <Form.Label>Image Url</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Image Url\"\n                value={image}\n                onChange={(e) => setImage(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"category\">\n              <Form.Label>Category</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Stream\"\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Button type=\"submit\" variant=\"primary\" onClick={submitHandler}>\n              {isEdit ? \"Update\" : \"Add Student\"}\n            </Button>\n          </FormContainer>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default AddStudentView;\n"]},"metadata":{},"sourceType":"module"}