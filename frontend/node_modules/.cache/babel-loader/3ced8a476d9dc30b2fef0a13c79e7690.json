{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Vivaan\\\\Downloads\\\\Hostel-Management-master\\\\Hostel-Management-master\\\\frontend\\\\src\\\\components\\\\analysisComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"./loader\";\nimport Message from \"./message\";\nimport { CSVLink } from \"react-csv\";\n\nconst AnalysisComponent = () => {\n  _s();\n\n  const attendanceAnalysis = useSelector(state => state.attendanceAnalysis);\n  const {\n    loading,\n    error,\n    attendance\n  } = attendanceAnalysis;\n  const [data, setData] = useState([]);\n  const [headers, setHeaders] = useState([]);\n  useEffect(() => {\n    if (attendance) {\n      setHeaders([{\n        label: \"Name\",\n        key: \"name\"\n      }, {\n        label: \"Contact\",\n        key: \"contact\"\n      }, {\n        label: \"Room No\",\n        key: \"roomNo\"\n      }, {\n        label: \"Status\",\n        key: \"attendance\"\n      }]);\n      var csvMapList = [];\n      Object.entries(attendance.details).map(student => {\n        var csvMap = {};\n        csvMap[\"name\"] = student[1].name;\n        csvMap[\"contact\"] = student[1].contact;\n        csvMap[\"roomNo\"] = student[1].roomNo;\n        csvMap[\"attendance\"] = attendance.data[student[0]];\n        csvMapList.push(csvMap);\n      });\n      setData(csvMapList);\n    }\n  }, [attendance]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: attendance && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          responsive: true,\n          className: \"table-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Contact No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Room No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: attendance && Object.entries(attendance.details).map(student => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: student[1].name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: student[1].contact\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: student[1].roomNo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: attendance.data[student[0]]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 27\n                }, this)]\n              }, student[0], true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n          data: data,\n          headers: headers,\n          filename: `attendance_${Date().toString().substring(0, 15)}.csv`,\n          className: \"btn btn-primary\",\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(AnalysisComponent, \"f+EUCECX71pbK91HE/NYpTJ3pS0=\", false, function () {\n  return [useSelector];\n});\n\n_c = AnalysisComponent;\nexport default AnalysisComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnalysisComponent\");","map":{"version":3,"sources":["C:/Users/Vivaan/Downloads/Hostel-Management-master/Hostel-Management-master/frontend/src/components/analysisComponent.jsx"],"names":["React","useEffect","useState","Table","useSelector","Loading","Message","CSVLink","AnalysisComponent","attendanceAnalysis","state","loading","error","attendance","data","setData","headers","setHeaders","label","key","csvMapList","Object","entries","details","map","student","csvMap","name","contact","roomNo","push","Date","toString","substring"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"./loader\";\nimport Message from \"./message\";\nimport { CSVLink } from \"react-csv\";\n\nconst AnalysisComponent = () => {\n  const attendanceAnalysis = useSelector((state) => state.attendanceAnalysis);\n  const { loading, error, attendance } = attendanceAnalysis;\n  const [data, setData] = useState([]);\n  const [headers, setHeaders] = useState([]);\n  useEffect(() => {\n    if (attendance) {\n      setHeaders([\n        { label: \"Name\", key: \"name\" },\n        { label: \"Contact\", key: \"contact\" },\n        { label: \"Room No\", key: \"roomNo\" },\n        { label: \"Status\", key: \"attendance\" },\n      ]);\n      var csvMapList = [];\n      Object.entries(attendance.details).map((student) => {\n        var csvMap = {};\n        csvMap[\"name\"] = student[1].name;\n        csvMap[\"contact\"] = student[1].contact;\n        csvMap[\"roomNo\"] = student[1].roomNo;\n        csvMap[\"attendance\"] = attendance.data[student[0]];\n        csvMapList.push(csvMap);\n      });\n\n      setData(csvMapList);\n    }\n  }, [attendance]);\n  return (\n    <>\n      {error && <Message variant=\"danger\">{error}</Message>}\n      {loading ? (\n        <Loading />\n      ) : (\n        <>\n          {attendance && (\n            <>\n              <Table striped bordered hover responsive className=\"table-sm\">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Contact No</th>\n                    <th>Room No</th>\n                    <th>Attendance</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {attendance &&\n                    Object.entries(attendance.details).map((student) => {\n                      return (\n                        <tr key={student[0]}>\n                          <th>{student[1].name}</th>\n                          <td>{student[1].contact}</td>\n                          <td>{student[1].roomNo}</td>\n                          <td>{attendance.data[student[0]]}</td>\n                        </tr>\n                      );\n                    })}\n                </tbody>\n              </Table>\n              <CSVLink\n                data={data}\n                headers={headers}\n                filename={`attendance_${Date()\n                  .toString()\n                  .substring(0, 15)}.csv`}\n                className=\"btn btn-primary\"\n              >\n                Download\n              </CSVLink>\n            </>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default AnalysisComponent;\n"]},"metadata":{},"sourceType":"module"}