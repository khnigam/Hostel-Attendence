{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Vivaan\\\\Downloads\\\\Hostel-Management-master\\\\Hostel-Management-master\\\\frontend\\\\src\\\\components\\\\attendanceTable.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loading from \"./loader\";\nimport Message from \"./message\";\nimport AttendanceTableComponent from \"./attendanceTableComponent\";\n\nconst AttendanceTable = ({\n  roomNo\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [attendanceMap, setAttendanceMap] = useState({});\n  const getStudentsByRoomNo = useSelector(state => state.getStudentsByRoomNo);\n  const {\n    loading,\n    error,\n    students,\n    attendance\n  } = getStudentsByRoomNo;\n  const attendanceDataEnter = useSelector(state => state.attendanceDataEnter);\n  const {\n    loading: loadingAttendance,\n    error: errorAttendance\n  } = attendanceDataEnter;\n  useEffect(() => {\n    if (students) {\n      arrangeTable();\n    }\n  }, [dispatch, attendance, attendanceMap, students]);\n\n  const arrangeTable = () => {\n    if (attendance) {\n      var tempMap = attendanceMap;\n      students.map(student => {\n        if (attendance.data[student._id]) {\n          tempMap[student._id] = attendance.data[student._id];\n        } else {\n          tempMap[student._id] = \"Hostel\";\n        }\n      });\n      setAttendanceMap(attendanceMap);\n    } else {\n      students.map(student => {\n        var temp = attendanceMap;\n        temp[student._id] = \"Hostel\";\n        setAttendanceMap(temp);\n      });\n    }\n\n    var temp = attendanceMap;\n    setAttendanceMap(temp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), loading || loadingAttendance ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [errorAttendance && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: errorAttendance\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), students && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(AttendanceTableComponent, {\n          students: students,\n          attendanceMap: attendanceMap,\n          setAttendanceMap: setAttendanceMap,\n          attendance: attendance,\n          roomNo: roomNo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(AttendanceTable, \"sAs4BcwOMVZKizvFASaWXgBQqkA=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = AttendanceTable;\nexport default AttendanceTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"AttendanceTable\");","map":{"version":3,"sources":["C:/Users/Vivaan/Downloads/Hostel-Management-master/Hostel-Management-master/frontend/src/components/attendanceTable.jsx"],"names":["React","useEffect","useState","useSelector","useDispatch","Loading","Message","AttendanceTableComponent","AttendanceTable","roomNo","dispatch","attendanceMap","setAttendanceMap","getStudentsByRoomNo","state","loading","error","students","attendance","attendanceDataEnter","loadingAttendance","errorAttendance","arrangeTable","tempMap","map","student","data","_id","temp"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loading from \"./loader\";\nimport Message from \"./message\";\nimport AttendanceTableComponent from \"./attendanceTableComponent\";\n\nconst AttendanceTable = ({ roomNo }) => {\n  const dispatch = useDispatch();\n  const [attendanceMap, setAttendanceMap] = useState({});\n\n  const getStudentsByRoomNo = useSelector((state) => state.getStudentsByRoomNo);\n  const { loading, error, students, attendance } = getStudentsByRoomNo;\n  const attendanceDataEnter = useSelector((state) => state.attendanceDataEnter);\n  const {\n    loading: loadingAttendance,\n    error: errorAttendance,\n  } = attendanceDataEnter;\n  useEffect(() => {\n    if (students) {\n      arrangeTable();\n    }\n  }, [dispatch, attendance, attendanceMap, students]);\n\n  const arrangeTable = () => {\n    if (attendance) {\n      var tempMap = attendanceMap;\n      students.map((student) => {\n        if (attendance.data[student._id]) {\n          tempMap[student._id] = attendance.data[student._id];\n        } else {\n          tempMap[student._id] = \"Hostel\";\n        }\n      });\n      setAttendanceMap(attendanceMap);\n    } else {\n      students.map((student) => {\n        var temp = attendanceMap;\n        temp[student._id] = \"Hostel\";\n        setAttendanceMap(temp);\n      });\n    }\n    var temp = attendanceMap;\n    setAttendanceMap(temp);\n  };\n\n  return (\n    <>\n      {error && <Message variant=\"danger\">{error}</Message>}\n      {loading || loadingAttendance ? (\n        <Loading />\n      ) : (\n        <>\n          {errorAttendance && (\n            <Message variant=\"danger\">{errorAttendance}</Message>\n          )}\n          {students && (\n            <>\n              <AttendanceTableComponent\n                students={students}\n                attendanceMap={attendanceMap}\n                setAttendanceMap={setAttendanceMap}\n                attendance={attendance}\n                roomNo={roomNo}\n              />\n            </>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default AttendanceTable;\n"]},"metadata":{},"sourceType":"module"}